FDA 510(k) å¯©æŸ¥å·¥ä½œå®¤ Â· èŠ±å‰ç‰ˆ V2 - ç¶œåˆæŠ€è¡“è¦æ ¼æ–‡ä»¶
æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶
ç‰ˆæœ¬æ—¥æœŸä½œè€…è®Šæ›´èªªæ˜1.02025-01-XXç³»çµ±æ¶æ§‹åœ˜éšŠåˆå§‹ç‰ˆæœ¬

ç›®éŒ„

åŸ·è¡Œæ‘˜è¦
ç³»çµ±æ¶æ§‹
è»Ÿé«”éœ€æ±‚è¦æ ¼ (SRS)
ç³»çµ±éœ€æ±‚
ç’°å¢ƒè¨­å®š
éƒ¨ç½²é¸é …
åŸºç¤è¨­æ–½å³ç¨‹å¼ç¢¼ (IaC)
å®‰å…¨æ€§è€ƒé‡
é©—è­‰è¨ˆç•«
é¢¨éšªç®¡ç†
å¯è¿½æº¯æ€§çŸ©é™£
ç¶­è­·èˆ‡æ”¯æ´
ç›£ç®¡åˆè¦æ€§
é™„éŒ„


1. åŸ·è¡Œæ‘˜è¦
1.1 ç³»çµ±æ¦‚è¿°
GUDID è³‡æ–™å“è³ªåˆ†æå¤šä»£ç†ç³»çµ± (èŠ±å‰ç‰ˆ V2) æ˜¯ä¸€å€‹åŸºæ–¼äººå·¥æ™ºæ…§çš„å¤šä»£ç†å”ä½œå¹³å°,å°ˆç‚ºç¾åœ‹ FDA å…¨çƒå”¯ä¸€å™¨æè­˜åˆ¥è³‡æ–™åº« (GUDID) çš„è³‡æ–™å“è³ªå¯©æŸ¥æµç¨‹è¨­è¨ˆã€‚æœ¬ç³»çµ±æ•´åˆå››å¤§ä¸»æµ AI æä¾›å•†:

Google Gemini (gemini-2.5-flash, gemini-2.5-flash-lite)
OpenAI (gpt-4o-mini, gpt-4.1-mini)
Anthropic Claude (claude-3-5-sonnet)
xAI Grok (grok-4-fast-reasoning, grok-3-mini)

ç³»çµ±å¯¦ç¾ä¸²è¯å¼ GUDID è³‡æ–™åˆ†æã€çµæ§‹åŒ–ç­†è¨˜è½‰æ›ã€äº’å‹•å¼åˆ†æå„€è¡¨æ¿,ä¸¦èå…¥éŠæˆ²åŒ–è¨­è¨ˆå…ƒç´ ã€‚
1.2 ç›®æ¨™ç”¨æˆ¶

FDA 510(k) å¯©æŸ¥äººå“¡
é†«ç™‚å™¨æç›£ç®¡äº‹å‹™å°ˆå“¡ (Regulatory Affairs)
æ³•è¦é¡§å•èˆ‡å“è³ªä¿è­‰ (QA) åœ˜éšŠ
è‡¨åºŠå·¥ç¨‹å¸«èˆ‡æŠ€è¡“æ’°å¯«äººå“¡
GUDID è³‡æ–™ç®¡ç†å“¡

1.3 æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ
ç‰¹æ€§èªªæ˜å¤šæ¨¡å‹å”ä½œæ”¯æ´ 4 å®¶ AI æä¾›å•†,å¯ä¾ä»»å‹™ç‰¹æ€§é¸ç”¨æœ€é©æ¨¡å‹å¯ç·¨è¼¯éˆå¼å¯©æŸ¥æ¯å€‹ä»£ç†æ­¥é©Ÿçš„è¼¸å…¥/è¼¸å‡ºå‡å¯äººå·¥ç·¨è¼¯,æ”¯æ´æ··åˆå¼äººæ©Ÿå”ä½œ20 ç¨®èŠ±å‰ä¸»é¡Œæä¾›ç¾å­¸åŒ–å·¥ä½œç’°å¢ƒ (æ«»èŠ±å¾®é¢¨ã€è“®èŠ±æ¹–ç•”ã€é³¶å°¾å¤œè‰²ç­‰),é™ä½å¯©æŸ¥ç–²å‹AI ç­†è¨˜åŠ©æ‰‹è‡ªå‹•å°‡éçµæ§‹åŒ–æ–‡æœ¬è½‰æ›ç‚ºçµæ§‹åŒ– Markdownã€å¯¦é«”æå–ã€å¿ƒæ™ºåœ–ç­‰å³æ™‚è³‡æ–™ç·¨è¼¯Streamlit data_editor æ”¯æ´ç›´æ¥ç·¨è¼¯ GUDID CSV è³‡æ–™è¦–è¦ºåŒ–å„€è¡¨æ¿Plotly äº’å‹•åœ–è¡¨è¿½è¹¤è³‡æ–™å“è³ªæŒ‡æ¨™èˆ‡é¢¨éšªåˆ†æ•¸
1.4 ç›£ç®¡å®šä½

é‡è¦è²æ˜: æœ¬ç³»çµ±ç‚º æ±ºç­–æ”¯æ´å·¥å…· (Decision Support Tool),ä¸å±¬æ–¼ FDA å®šç¾©ä¹‹é†«ç™‚å™¨æ (Medical Device)ã€‚ç³»çµ±è¼¸å‡ºçµæœéœ€ç”±å…·è³‡æ ¼ä¹‹å¯©æŸ¥äººå“¡é©—è­‰,æœ€çµ‚æ±ºç­–æ¬Šæ­¸äººé¡å¯©æŸ¥å“¡ã€‚


2. ç³»çµ±æ¶æ§‹
2.1 é«˜éšæ¶æ§‹åœ–
mermaidCopygraph TB
    subgraph "ä½¿ç”¨è€…å±¤"
        UI[Streamlit Web UI<br/>å¤šèªè¨€ / 20 ç¨®ä¸»é¡Œ]
    end
    
    subgraph "æ‡‰ç”¨å±¤"
        APP[Python Application Core]
        SESSION[Session State Manager]
        THEME[Theme & I18N Engine]
    end
    
    subgraph "æ¥­å‹™é‚è¼¯å±¤"
        PIPELINE[Multi-Agent Pipeline<br/>Sequential/Single Mode]
        NOTE[AI Note Keeper<br/>Markdown/Entity/Mindmap]
        DASH[Analytics Dashboard<br/>Plotly Charts]
        DATA[GUDID Data Editor<br/>Pandas DataFrame]
    end
    
    subgraph "AI æœå‹™å±¤"
        GEMINI[Google Gemini API<br/>gemini-2.5-flash]
        OPENAI[OpenAI API<br/>gpt-4o-mini]
        ANTHROPIC[Anthropic Claude<br/>claude-3-5-sonnet]
        XAI[xAI Grok API<br/>grok-4-fast-reasoning]
    end
    
    subgraph "è³‡æ–™å±¤"
        YAML[agents.yaml<br/>ä»£ç†é…ç½®]
        CSV[GUDID CSV<br/>sample_data/gudid_mock.csv]
        ENV[Environment Variables<br/>.env / Secrets Manager]
    end
    
    UI --> APP
    APP --> SESSION
    APP --> THEME
    APP --> PIPELINE
    APP --> NOTE
    APP --> DASH
    APP --> DATA
    
    PIPELINE --> GEMINI
    PIPELINE --> OPENAI
    PIPELINE --> ANTHROPIC
    PIPELINE --> XAI
    
    NOTE --> GEMINI
    NOTE --> OPENAI
    NOTE --> ANTHROPIC
    NOTE --> XAI
    
    DATA --> CSV
    APP --> YAML
    APP --> ENV
2.2 æŠ€è¡“å †ç–Š
å±¤ç´šæŠ€è¡“/æ¡†æ¶ç‰ˆæœ¬è¦æ±‚ç”¨é€”å‰ç«¯Streamlitâ‰¥1.30.0Web UI æ¡†æ¶,äº’å‹•å¼å…ƒä»¶å¾Œç«¯Pythonâ‰¥3.9æ ¸å¿ƒæ‡‰ç”¨é‚è¼¯è³‡æ–™è™•ç†Pandasâ‰¥2.0.0GUDID CSV è¼‰å…¥èˆ‡ç·¨è¼¯è¦–è¦ºåŒ–Plotly Expressâ‰¥5.0.0äº’å‹•å¼åœ–è¡¨ (åœ“é¤…åœ–ã€é•·æ¢åœ–)AI SDKgoogle-generativeailatestGemini æ•´åˆopenaiâ‰¥1.0.0OpenAI æ•´åˆanthropiclatestClaude æ•´åˆrequestsâ‰¥2.28.0Grok API å‘¼å« (RESTful)é…ç½®PyYAMLâ‰¥6.0agents.yaml è§£æHTTPrequestsâ‰¥2.28.0API å‘¼å«ã€å¥åº·æª¢æŸ¥
2.3 æ¨¡çµ„æ¶æ§‹
Copygudid-multi-agent-studio/
â”œâ”€â”€ app.py                    # ä¸»ç¨‹å¼ (æ‰€æœ‰åŠŸèƒ½æ•´åˆ)
â”œâ”€â”€ agents.yaml               # ä»£ç†é…ç½®æª”
â”œâ”€â”€ requirements.txt          # Python ä¾è³´å¥—ä»¶
â”œâ”€â”€ sample_data/
â”‚   â””â”€â”€ gudid_mock.csv       # ç¯„ä¾‹ GUDID è³‡æ–™
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_agents.py       # å–®å…ƒæ¸¬è©¦
â”‚   â””â”€â”€ test_integration.py  # æ•´åˆæ¸¬è©¦
â”œâ”€â”€ deployment/
â”‚   â”œâ”€â”€ Dockerfile           # å®¹å™¨æ˜ åƒå®šç¾©
â”‚   â”œâ”€â”€ docker-compose.yml   # æœ¬åœ°å¤šå®¹å™¨éƒ¨ç½²
â”‚   â”œâ”€â”€ k8s/
â”‚   â”‚   â”œâ”€â”€ deployment.yaml  # Kubernetes éƒ¨ç½²é…ç½®
â”‚   â”‚   â”œâ”€â”€ service.yaml     # K8s Service
â”‚   â”‚   â””â”€â”€ hpa.yaml         # è‡ªå‹•æ“´å±•è¦å‰‡
â”‚   â””â”€â”€ terraform/
â”‚       â”œâ”€â”€ main.tf          # AWS/GCP/Azure IaC
â”‚       â””â”€â”€ variables.tf     # Terraform è®Šæ•¸
â””â”€â”€ docs/
    â”œâ”€â”€ TECHNICAL_SPEC.md    # æœ¬æ–‡ä»¶
    â”œâ”€â”€ USER_MANUAL.md       # ä½¿ç”¨è€…æ‰‹å†Š
    â””â”€â”€ API_REFERENCE.md     # API åƒè€ƒæ–‡ä»¶
æ ¸å¿ƒæ¨¡çµ„èªªæ˜:

ä¸»é¡Œèˆ‡åœ‹éš›åŒ– (ç¬¬ 1 ç¯€):

FLOWER_THEMES: 20 ç¨®èŠ±å‰ä¸»é¡Œå®šç¾© (primary/accent/bg/fg å››è‰²)
STRINGS: ç¹é«”ä¸­æ–‡/è‹±æ–‡é›™èªå­—å…¸
inject_theme_css(): å‹•æ…‹ CSS æ³¨å…¥


LLM æä¾›å•†åŒ…è£å™¨ (ç¬¬ 2 ç¯€):

LLMClients é¡åˆ¥çµ±ä¸€è™•ç† 4 å®¶ AI API å‘¼å«
æ”¯æ´ API é‡‘é‘°å¾ç’°å¢ƒè®Šæ•¸æˆ– Session State è®€å–


GUDID åˆ†æåŠ©æ‰‹ (ç¬¬ 3 ç¯€):

build_prompt_for_agent(): çµ„è£ä»£ç†æç¤ºè© (å« GUDID æ¨£æœ¬ JSON)
parse_agent_result(): è§£æ AI è¼¸å‡ºç‚ºçµæ§‹åŒ– JSON


AI ç­†è¨˜å·¥å…· (ç¬¬ 4 ç¯€):

ai_format_markdown(): æ ¼å¼åŒ– Markdown
ai_extract_keywords(): é—œéµå­—æå–
ai_summarize(): æ‘˜è¦ç”Ÿæˆ (å« coral è‰²é—œéµå­—é«˜äº®)
ai_extract_entities(): å¯¦é«”æŠ½å– (20 å€‹å¯¦é«”è¡¨æ ¼)
ai_chat_on_note(): ç­†è¨˜å•ç­”
ai_magic_insight_map(): éšå±¤å¼æ´å¯Ÿåœ°åœ–
ai_magic_action_plan(): è¡Œå‹•è¨ˆç•«ç”Ÿæˆ


ä»£ç†é…ç½®è¼‰å…¥ (ç¬¬ 5 ç¯€):

load_agents(): å¾ agents.yaml è¼‰å…¥ä»£ç†å®šç¾©


æœƒè©±ç‹€æ…‹ç®¡ç† (ç¬¬ 6 ç¯€):

init_state(): åˆå§‹åŒ–æ‰€æœ‰ session_state è®Šæ•¸



2.4 è³‡æ–™æµç¨‹
mermaidCopysequenceDiagram
    participant U as ä½¿ç”¨è€…
    participant UI as Streamlit UI
    participant DF as Data Editor
    participant P as Pipeline Orchestrator
    participant A1 as Agent 1 (Gemini)
    participant A2 as Agent 2 (OpenAI)
    participant A3 as Agent 3 (Claude)
    participant DASH as Dashboard
    
    U->>UI: ä¸Šå‚³ GUDID CSV
    UI->>DF: è¼‰å…¥ Pandas DataFrame
    DF-->>UI: é¡¯ç¤ºå¯ç·¨è¼¯è¡¨æ ¼
    
    U->>UI: é»æ“Šã€ŒRun Analysisã€
    UI->>P: å•Ÿå‹• Sequential Mode
    
    P->>A1: build_prompt (GUDID æ¨£æœ¬ JSON)
    A1-->>P: è¿”å›çµæ§‹åŒ–è¼¸å‡º (JSON)
    P->>P: parse_agent_result()
    
    P->>A2: å°‡ A1 è¼¸å‡ºä½œç‚º A2 è¼¸å…¥
    A2-->>P: è¿”å›é¢¨éšªåˆ†æ
    
    P->>A3: å°‡ A2 è¼¸å‡ºä½œç‚º A3 è¼¸å…¥
    A3-->>P: è¿”å›æœ€çµ‚å»ºè­°
    
    P->>UI: æ›´æ–° session_state["agent_results"]
    UI->>DASH: åˆ·æ–°å„€è¡¨æ¿æŒ‡æ¨™
    DASH-->>UI: Plotly åœ“é¤…åœ–/é•·æ¢åœ–
    
    UI-->>U: é¡¯ç¤ºæ‰€æœ‰ä»£ç†çµæœ (å¯å±•é–‹è©³æƒ…)
    
    U->>UI: ç·¨è¼¯ Agent 2 è¼¸å‡º
    UI->>P: ä½¿ç”¨ç·¨è¼¯å¾Œè¼¸å‡ºé‡æ–°åŸ·è¡Œ Agent 3
    P->>A3: å‘¼å« Claude (ä½¿ç”¨æ–°è¼¸å…¥)
    A3-->>P: è¿”å›æ›´æ–°å»ºè­°
    P->>UI: æ›´æ–°çµæœ

3. è»Ÿé«”éœ€æ±‚è¦æ ¼ (SRS)
3.1 åŠŸèƒ½æ€§éœ€æ±‚ (Functional Requirements)
FR-001: GUDID è³‡æ–™è¼‰å…¥èˆ‡ç·¨è¼¯

éœ€æ±‚æè¿°: ç³»çµ±æ‡‰æ”¯æ´ä¸Šå‚³ CSV æ ¼å¼çš„ GUDID è³‡æ–™,ä¸¦æä¾›å³æ™‚ç·¨è¼¯åŠŸèƒ½ã€‚
é©—æ”¶æ¨™æº–:

æ”¯æ´ UTF-8 ç·¨ç¢¼ CSV æª”æ¡ˆä¸Šå‚³
ä½¿ç”¨ Streamlit data_editor é¡¯ç¤ºå¯ç·¨è¼¯è¡¨æ ¼
æ”¯æ´æ–°å¢/åˆªé™¤/ä¿®æ”¹åˆ—
ç·¨è¼¯å¾Œå¯ä¸‹è¼‰ç‚º CSV
è‹¥æœªä¸Šå‚³æª”æ¡ˆ,è‡ªå‹•è¼‰å…¥ sample_data/gudid_mock.csv


å„ªå…ˆç´š: P0 (å¿…é ˆ)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-001

FR-002: å¤šä»£ç†æµç¨‹åŸ·è¡Œ

éœ€æ±‚æè¿°: ç³»çµ±æ‡‰æ”¯æ´ä¾åºåŸ·è¡Œ N å€‹ AI ä»£ç†,æ¯å€‹ä»£ç†çš„è¼¸å‡ºè‡ªå‹•æˆç‚ºä¸‹ä¸€å€‹ä»£ç†çš„è¼¸å…¥ã€‚
é©—æ”¶æ¨™æº–:

å¾ agents.yaml è¼‰å…¥ä»»æ„æ•¸é‡ä»£ç†é…ç½®
æ”¯æ´ Sequential Mode (å…¨æµç¨‹) èˆ‡ Single Mode (å–®ä»£ç†)
æ¯å€‹ä»£ç†åŸ·è¡Œç‹€æ…‹å³æ™‚é¡¯ç¤º (é€²åº¦æ¢)
ä»»ä¸€ä»£ç†å¤±æ•—æ™‚,æµç¨‹ä¸­æ–·ä¸¦é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
åŸ·è¡Œéç¨‹å¯è¢«ä½¿ç”¨è€…ä¸­æ–·


å„ªå…ˆç´š: P0 (å¿…é ˆ)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-002

FR-003: å¯ç·¨è¼¯éˆå¼å¯©æŸ¥

éœ€æ±‚æè¿°: ä½¿ç”¨è€…å¯åœ¨ä»»æ„ä»£ç†æ­¥é©Ÿç·¨è¼¯è¼¸å…¥æˆ–è¼¸å‡º,ä¿®æ”¹å¾Œçš„å…§å®¹æ‡‰æˆç‚ºå¾ŒçºŒæ­¥é©Ÿçš„é è¨­è¼¸å…¥ã€‚
é©—æ”¶æ¨™æº–:

Dashboard Tab ä¸­æ¯å€‹ä»£ç†é¡¯ç¤ºã€ŒSummaryã€èˆ‡ã€ŒIssuesã€
æ”¯æ´é»æ“Šå±•é–‹è©³ç´°è¼¸å‡º
åœ¨ Agents Tab ä¸­é¡¯ç¤ºã€ŒHandoff input to next agentã€æ–‡å­—å€åŸŸ
æ”¯æ´ã€ŒTextã€èˆ‡ã€ŒMarkdown Previewã€é›™æ¨¡å¼åˆ‡æ›
ç·¨è¼¯å¾Œ,ä¸‹ä¸€æ­¥ä»£ç†çš„é è¨­è¼¸å…¥å³æ™‚æ›´æ–°æ–¼ session_state["current_chain_input"]


å„ªå…ˆç´š: P0 (å¿…é ˆ)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-003

FR-004: å¤š AI æä¾›å•†æ•´åˆ

éœ€æ±‚æè¿°: ç³»çµ±æ‡‰æ•´åˆè‡³å°‘å››å®¶ä¸»æµ AI æä¾›å•†,ä¸¦æ”¯æ´å‹•æ…‹æ¨¡å‹é¸æ“‡ã€‚
é©—æ”¶æ¨™æº–:

æ”¯æ´ Google Gemini (gemini-2.5-flash, gemini-2.5-flash-lite)
æ”¯æ´ OpenAI (gpt-4o-mini, gpt-4.1-mini)
æ”¯æ´ Anthropic Claude (claude-3-5-sonnet)
æ”¯æ´ xAI Grok (grok-4-fast-reasoning, grok-3-mini)
æ¯å€‹ä»£ç†å¯åœ¨ Agents Tab ä¸­ç¨ç«‹é…ç½® provider/model/max_tokens
API é‡‘é‘°æ”¯æ´ç’°å¢ƒè®Šæ•¸èˆ‡ Sidebar UI è¼¸å…¥é›™ç®¡é“
API å‘¼å«å¤±æ•—æ™‚,é¡¯ç¤ºæ˜ç¢ºéŒ¯èª¤è¨Šæ¯ (å¦‚ã€ŒAPI key not configuredã€)


å„ªå…ˆç´š: P0 (å¿…é ˆ)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-004

FR-005: AI ç­†è¨˜åŠ©æ‰‹

éœ€æ±‚æè¿°: æä¾›ç¨ç«‹çš„ç­†è¨˜è½‰æ›å·¥å…·,æ”¯æ´éçµæ§‹åŒ–æ–‡æœ¬çš„æ™ºæ…§åŒ–è™•ç†ã€‚
é©—æ”¶æ¨™æº–:

çµæ§‹åŒ– Markdown è½‰æ›: æ¸…ç†ã€æ ¼å¼åŒ–ã€åˆ†æ®µ
é—œéµå­—æå–: è¼¸å‡º 15-25 å€‹é—œéµå­— (é€—è™Ÿåˆ†éš”)
æ‘˜è¦ç”Ÿæˆ: è¼¸å‡º Markdown æ ¼å¼æ‘˜è¦,é—œéµå­—ä»¥ <span class="coral-keyword"> æ¨™è¨˜
å¯¦é«”æŠ½å–: è¼¸å‡º 20 å€‹å¯¦é«”çš„ Markdown è¡¨æ ¼ (æ¬„ä½: #, Name, Type, Context)
ç­†è¨˜å•ç­”: æ”¯æ´å¤šè¼ªå°è©±,æ­·å²è¨˜éŒ„ä¿å­˜æ–¼ session_state["note_chat_history"]
Magic Insight Map: ç”Ÿæˆéšå±¤å¼ Markdown æ´å¯Ÿåœ°åœ–
Magic Action Plan: ç”Ÿæˆå„ªå…ˆé †åºè¡Œå‹•è¨ˆç•« (checklist æ ¼å¼)


å„ªå…ˆç´š: P1 (é«˜åº¦æœŸæœ›)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-005

FR-006: äº’å‹•å¼åˆ†æå„€è¡¨æ¿

éœ€æ±‚æè¿°: è¿½è¹¤ä¸¦è¦–è¦ºåŒ– GUDID è³‡æ–™å“è³ªæŒ‡æ¨™èˆ‡ AI åˆ†æçµæœã€‚
é©—æ”¶æ¨™æº–:

é¡¯ç¤º Total Issues (ç¸½å•é¡Œæ•¸)ã€Overall Risk (æ•´é«”é¢¨éšªè©•ç´š)ã€Agents Run (å·²åŸ·è¡Œä»£ç†æ•¸)
Issue Severity Distribution åœ“é¤…åœ– (Low/Medium/High)
Per-Agent Risk Scores é•·æ¢åœ–
Detailed Findings by Agent å¯å±•é–‹è©³æƒ… (Summary + Issues)
æ‰€æœ‰åœ–è¡¨ä½¿ç”¨ Plotly å¯¦ç¾,æ”¯æ´äº’å‹•å¼ç¸®æ”¾/æ‡¸åœ


å„ªå…ˆç´š: P1 (é«˜åº¦æœŸæœ›)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-006

FR-007: å¤šèªè¨€èˆ‡ä¸»é¡Œæ”¯æ´

éœ€æ±‚æè¿°: æ”¯æ´ç¹é«”ä¸­æ–‡èˆ‡è‹±æ–‡é›™èªåˆ‡æ›,ä»¥åŠ 20 ç¨®åŒ—æ­èŠ±å‰ä¸»é¡Œã€‚
é©—æ”¶æ¨™æº–:

èªè¨€åˆ‡æ›: ç¹é«”ä¸­æ–‡ (zh) / English (en)
ä¸»é¡Œæ¨¡å¼åˆ‡æ›: äº®è‰² (light) / æš—è‰² (dark)
20 ç¨®èŠ±å‰ä¸»é¡Œ,æ¯ç¨®åŒ…å« primary/accent/bg/fg å››è‰²é…ç½®
Jackslot Spin æŒ‰éˆ•éš¨æ©Ÿåˆ‡æ›ä¸»é¡Œ,é¡¯ç¤ºä¸»é¡Œåç¨± (ä¸­è‹±æ–‡)
ä¸»é¡Œåˆ‡æ›å³æ™‚å¥—ç”¨è‡³å…¨å±€ CSS (inject_theme_css())
Sidebar èƒŒæ™¯ä½¿ç”¨ä¸»é¡Œæ¼¸å±¤è‰²


å„ªå…ˆç´š: P2 (æœŸæœ›)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-007

FR-008: ä»£ç†é…ç½®å‹•æ…‹ç®¡ç†

éœ€æ±‚æè¿°: ä½¿ç”¨è€…å¯åœ¨ Agents Tab ä¸­å‹•æ…‹å•Ÿç”¨/åœç”¨ä»£ç†,ä¿®æ”¹ç³»çµ±æç¤ºè©èˆ‡æ¨¡å‹åƒæ•¸ã€‚
é©—æ”¶æ¨™æº–:

æ¯å€‹ä»£ç†é¡¯ç¤ºç¨ç«‹çš„ Expander å…ƒä»¶
æ”¯æ´ Enabled Checkbox åˆ‡æ›
æ”¯æ´ç·¨è¼¯ System Prompt (å¤šè¡Œæ–‡å­—å€åŸŸ)
æ”¯æ´é¸æ“‡ Provider èˆ‡ Model (ä¸‹æ‹‰é¸å–®)
æ”¯æ´è¨­å®š Max tokens (æ•¸å­—è¼¸å…¥,ç¯„åœ 512-120000)
ä¿®æ”¹å¾Œçš„é…ç½®ä¿å­˜æ–¼ session_state["agents_config"]


å„ªå…ˆç´š: P1 (é«˜åº¦æœŸæœ›)
è¿½æº¯æ€§: å°æ‡‰æ¸¬è©¦æ¡ˆä¾‹ ST-FR-008

3.2 éåŠŸèƒ½æ€§éœ€æ±‚ (Non-Functional Requirements)
NFR-001: æ•ˆèƒ½éœ€æ±‚
æŒ‡æ¨™ç›®æ¨™å€¼æ¸¬é‡æ–¹æ³•å–®ä»£ç†åŸ·è¡Œå›æ‡‰æ™‚é–“<30 ç§’ (95th percentile)API å‘¼å«è¨ˆæ™‚å™¨å…¨æµç¨‹åŸ·è¡Œæ™‚é–“ (3 ä»£ç†)<90 ç§’ (95th percentile)Pipeline orchestrator è¨ˆæ™‚UI è¼‰å…¥æ™‚é–“<3 ç§’Streamlit metricsCSV è¼‰å…¥æ™‚é–“ (10,000 åˆ—)<2 ç§’Pandas read_csv è¨ˆæ™‚ä¸¦ç™¼ä½¿ç”¨è€…æ”¯æ´â‰¥10 (å–®å¯¦ä¾‹)è² è¼‰æ¸¬è©¦ (Locust)
NFR-002: å¯ç”¨æ€§éœ€æ±‚

å­¸ç¿’æ›²ç·š: æ–°ä½¿ç”¨è€…æ‡‰èƒ½åœ¨ 15 åˆ†é˜å…§å®Œæˆé¦–æ¬¡å®Œæ•´æµç¨‹åŸ·è¡Œ
éŒ¯èª¤è¨Šæ¯: æ‰€æœ‰éŒ¯èª¤è¨Šæ¯æ‡‰ç‚ºç¹é«”ä¸­æ–‡/è‹±æ–‡é›™èª,ä¸¦æä¾›å¯æ“ä½œå»ºè­°
ç„¡éšœç¤™æ€§: éµå¾ª WCAG 2.1 AA ç´šæ¨™æº– (è‰²å½©å°æ¯” â‰¥4.5,éµç›¤å°èˆªæ”¯æ´)
éŸ¿æ‡‰å¼è¨­è¨ˆ: æ”¯æ´æ¡Œé¢ç€è¦½å™¨ (â‰¥1280px å¯¬åº¦),ä¸ä¿è­‰è¡Œå‹•è£ç½®æœ€ä½³åŒ–

NFR-003: å¯é æ€§éœ€æ±‚

API å¤±æ•—å®¹éŒ¯: å–®ä¸€ AI æä¾›å•†æ•…éšœæ™‚,ä½¿ç”¨è€…å¯åˆ‡æ›è‡³å…¶ä»–æä¾›å•†ç¹¼çºŒåŸ·è¡Œ
æœƒè©±æŒä¹…æ€§: ä½¿ç”¨è€…æœƒè©±è³‡æ–™åœ¨ç€è¦½å™¨ refresh å¾Œä¿æŒ (Streamlit session_state æ©Ÿåˆ¶)
è³‡æ–™å®Œæ•´æ€§: æ‰€æœ‰ä»£ç†è¼¸å‡ºèˆ‡åŸ·è¡Œæ—¥èªŒæ‡‰å®Œæ•´ä¿å­˜æ–¼ session_state["agent_results"]
éŒ¯èª¤æ¢å¾©: ä»£ç†åŸ·è¡Œå¤±æ•—å¾Œ,ä½¿ç”¨è€…å¯é‡æ–°åŸ·è¡Œè€Œä¸å½±éŸ¿å·²æˆåŠŸæ­¥é©Ÿ

NFR-004: å®‰å…¨æ€§éœ€æ±‚
è©³è¦‹ ç¬¬ 8 ç¯€: å®‰å…¨æ€§è€ƒé‡
NFR-005: å¯ç¶­è­·æ€§éœ€æ±‚

æ¨¡çµ„åŒ–è¨­è¨ˆ: æ¯å€‹åŠŸèƒ½æ¨¡çµ„ (Pipeline, Note Keeper, Dashboard) æ‡‰å¯ç¨ç«‹æ¸¬è©¦èˆ‡éƒ¨ç½²
é…ç½®å¤–éƒ¨åŒ–: ä»£ç†é…ç½®å­˜æ”¾æ–¼ agents.yaml,ç„¡éœ€ä¿®æ”¹ app.py
ç¨‹å¼ç¢¼è¨»è§£: é—œéµå‡½æ•¸æ‡‰åŒ…å« Docstring (Google Style)
ç‰ˆæœ¬æ§åˆ¶: ä½¿ç”¨ Git,éµå¾ª Semantic Versioning 2.0.0

NFR-006: å¯æ“´å±•æ€§éœ€æ±‚

æ°´å¹³æ“´å±•: æ”¯æ´ Kubernetes éƒ¨ç½²,å¯é€éå¢åŠ  Pod æ•¸é‡è™•ç†æ›´é«˜è² è¼‰
æ¨¡å‹æ“´å±•: æ–°å¢ AI æä¾›å•†åƒ…éœ€ä¿®æ”¹ LLMClients é¡åˆ¥çš„ call() æ–¹æ³•
ä¸»é¡Œæ“´å±•: æ–°å¢èŠ±å‰ä¸»é¡Œåƒ…éœ€æ–¼ FLOWER_THEMES åˆ—è¡¨æ·»åŠ æ–°é …ç›®
èªè¨€æ“´å±•: æ–°å¢èªè¨€åƒ…éœ€æ–¼ STRINGS å­—å…¸æ·»åŠ æ–°éµå€¼å°

3.3 ç³»çµ±ä»‹é¢éœ€æ±‚
3.3.1 ä½¿ç”¨è€…ä»‹é¢ (UI)

æ¡†æ¶: Streamlit Web UI
ç€è¦½å™¨ç›¸å®¹æ€§: Chrome/Edge/Firefox/Safari (æœ€æ–°å…©ç‰ˆ)
è§£æåº¦: æœ€ä½ 1280Ã—720,å»ºè­° 1920Ã—1080
è‰²å½©æ¨¡å¼: æ”¯æ´äº®è‰² (light) èˆ‡æš—è‰² (dark) ä¸»é¡Œ

3.3.2 å¤–éƒ¨ API ä»‹é¢
API æä¾›å•†å”å®šèªè­‰æ–¹å¼ç«¯é»ç¯„ä¾‹é€Ÿç‡é™åˆ¶Google GeminiRESTAPI Keygenerativelanguage.googleapis.com60 RPM (å…è²»ç‰ˆ)OpenAIRESTAPI Keyapi.openai.com/v1/chat/completions3 RPM (å…è²»ç‰ˆ)AnthropicRESTAPI Keyapi.anthropic.com/v1/messages50 RPM (Tier 1)xAI GrokRESTAPI Keyapi.x.ai/v1/chat/completionsTBD
3.3.3 é…ç½®æª”ä»‹é¢
agents.yaml çµæ§‹ç¯„ä¾‹:
yamlCopyagents:
  - id: "gudid_validator"
    name: "GUDID æ¬„ä½é©—è­‰å™¨"
    description: "é©—è­‰å¿…å¡«æ¬„ä½å®Œæ•´æ€§èˆ‡æ ¼å¼æ­£ç¢ºæ€§"
    provider: "gemini"
    model: "gemini-2.5-flash"
    max_tokens: 4000
    temperature: 0.2
    enabled: true
    system_prompt: |
      ä½ æ˜¯ FDA GUDID è³‡æ–™å“è³ªå°ˆå®¶ã€‚åˆ†æä»¥ä¸‹ GUDID è³‡æ–™æ¨£æœ¬,æª¢æŸ¥:
      1. å¿…å¡«æ¬„ä½ (Device ID, Brand Name, Version Model Number) æ˜¯å¦å®Œæ•´
      2. æ ¼å¼æ˜¯å¦ç¬¦åˆ GUDID è¦ç¯„ (å¦‚ DI ç‚º 14 ä½æ•¸å­—)
      3. åˆ—èˆ‰å€¼æ˜¯å¦åœ¨å…è¨±ç¯„åœå…§ (å¦‚ Device Class åƒ…èƒ½ç‚º I/II/III)
      
      è¼¸å‡º JSON æ ¼å¼:
      {
        "summary": "æ•´é«”é©—è­‰æ‘˜è¦",
        "issues": [
          {"severity": "high/medium/low", "title": "å•é¡Œæ¨™é¡Œ", "details": "è©³ç´°èªªæ˜"}
        ],
        "metrics": {"risk_score": 0-100}
      }
      
  - id: "risk_analyzer"
    name: "é¢¨éšªåˆ†æå™¨"
    description: "ä¾æ“šå™¨æåˆ†é¡èˆ‡ç”¨é€”è©•ä¼°æ½›åœ¨é¢¨éšª"
    provider: "openai"
    model: "gpt-4o-mini"
    max_tokens: 3000
    temperature: 0.3
    enabled: true
    system_prompt: |
      ä½ æ˜¯é†«ç™‚å™¨æé¢¨éšªç®¡ç†å°ˆå®¶,ä¾æ“š ISO 14971 èˆ‡ FDA æŒ‡å¼•é€²è¡Œé¢¨éšªåˆ†æã€‚
      è¼¸å…¥ç‚ºå‰ä¸€æ­¥é©Ÿçš„é©—è­‰çµæœ,è«‹è¼¸å‡º:
      1. å·²è­˜åˆ¥å±å®³æ¸…å–® (â‰¥5 é …)
      2. é¢¨éšªç­‰ç´šè©•ä¼° (åš´é‡æ€§ Ã— ç™¼ç”Ÿæ©Ÿç‡,1-5 åˆ†)
      3. é¢¨éšªæ§åˆ¶æªæ–½å»ºè­°
      
      ä»¥ç¹é«”ä¸­æ–‡ JSON æ ¼å¼è¼¸å‡ºã€‚

4. ç³»çµ±éœ€æ±‚
4.1 ç¡¬é«”éœ€æ±‚
4.1.1 é–‹ç™¼ç’°å¢ƒ
å…ƒä»¶æœ€ä½é…ç½®å»ºè­°é…ç½®CPU2 æ ¸å¿ƒ (x86_64)4 æ ¸å¿ƒ+RAM4 GB8 GB+ç¡¬ç¢Ÿ10 GB å¯ç”¨ç©ºé–“20 GB SSDç¶²è·¯ç©©å®šå¯¬é »é€£ç·šâ‰¥10 Mbps
4.1.2 ç”Ÿç”¢ç’°å¢ƒ (å–®å¯¦ä¾‹)
å…ƒä»¶æœ€ä½é…ç½®å»ºè­°é…ç½®CPU2 vCPU4 vCPURAM4 GB8 GBç¡¬ç¢Ÿ20 GB50 GB SSDç¶²è·¯ç©©å®šå…¬ç¶²é€£ç·šâ‰¥100 Mbps
4.1.3 ç”Ÿç”¢ç’°å¢ƒ (Kubernetes å¢é›†)
å…ƒä»¶è¦æ ¼ç¯€é»æ•¸é‡3+ (é«˜å¯ç”¨æ€§)æ¯ç¯€é»é…ç½®4 vCPU, 16 GB RAMæŒä¹…åŒ–å„²å­˜æ”¯æ´ ReadWriteMany çš„ PV (è‹¥éœ€å…±äº« agents.yaml)
4.2 è»Ÿé«”éœ€æ±‚
4.2.1 ä½œæ¥­ç³»çµ±
ç’°å¢ƒæ”¯æ´ä½œæ¥­ç³»çµ±é–‹ç™¼Windows 10+, macOS 11+, Ubuntu 20.04+ç”Ÿç”¢Ubuntu 20.04/22.04 LTS, Amazon Linux 2, RHEL 8+
4.2.2 Python ç’°å¢ƒ

ç‰ˆæœ¬: Python 3.9 - 3.11 (å»ºè­° 3.10)
å¥—ä»¶ç®¡ç†: pip 21.0+, å»ºè­°ä½¿ç”¨ virtual environment

4.2.3 å¿…è¦ Python å¥—ä»¶
txtCopystreamlit>=1.30.0
pandas>=2.0.0
plotly>=5.0.0
pyyaml>=6.0
google-generativeai>=0.3.0
openai>=1.0.0
anthropic>=0.8.0
requests>=2.28.0
4.2.4 å®¹å™¨ç’°å¢ƒ (é¸ç”¨)

Docker: 20.10+
åŸºç¤æ˜ åƒ: python:3.10-slim

4.2.5 Orchestration (é¸ç”¨)

Kubernetes: 1.24+
Helm: 3.10+ (è‹¥ä½¿ç”¨ Helm Chart)

4.3 ç¶²è·¯éœ€æ±‚
4.3.1 å°å¤–é€£ç·š (é˜²ç«ç‰†ç™½åå–®)
å¿…é ˆå…è¨±å­˜å–ä»¥ä¸‹ç¶²åŸŸ:
Copygenerativelanguage.googleapis.com  # Gemini
api.openai.com                      # OpenAI
api.anthropic.com                   # Anthropic
api.x.ai                            # xAI Grok
4.3.2 å°å…§é€£ç·š
è‹¥å¤šå¯¦ä¾‹éƒ¨ç½²,éœ€é–‹æ”¾:

Kubernetes Service mesh é€šè¨Š (TCP/443)
Load Balancer å¥åº·æª¢æŸ¥ (TCP/8501 æˆ–è‡ªè¨‚åŸ )


5. ç’°å¢ƒè¨­å®š
5.1 æœ¬åœ°é–‹ç™¼ç’°å¢ƒè¨­å®š
æ­¥é©Ÿ 1: å®‰è£ Python
bashCopy# Ubuntu/Debian
sudo apt update
sudo apt install python3.10 python3.10-venv python3-pip

# macOS (Homebrew)
brew install python@3.10

# Windows
# å¾ https://www.python.org/ ä¸‹è¼‰å®‰è£å™¨
æ­¥é©Ÿ 2: å»ºç«‹è™›æ“¬ç’°å¢ƒ
bashCopypython3.10 -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
æ­¥é©Ÿ 3: å®‰è£ä¾è³´å¥—ä»¶
bashCopypip install --upgrade pip
pip install -r requirements.txt
æ­¥é©Ÿ 4: é…ç½®ç’°å¢ƒè®Šæ•¸
å»ºç«‹ .env æª”æ¡ˆ (ä¸æ‡‰æäº¤è‡³ Git):
bashCopy# .env
GEMINI_API_KEY=AIzaSy...
OPENAI_API_KEY=sk-proj-...
ANTHROPIC_API_KEY=sk-ant-...
GROK_API_KEY=xai-...
è¼‰å…¥ç’°å¢ƒè®Šæ•¸:
bashCopy# Linux/macOS
export $(cat .env | xargs)

# Windows (PowerShell)
Get-Content .env | ForEach-Object { 
    $key,$value = $_.Split('=')
    [Environment]::SetEnvironmentVariable($key, $value, 'Process')
}
æ­¥é©Ÿ 5: æº–å‚™é…ç½®æª”
å»ºç«‹ agents.yaml (åƒè€ƒ 3.3.3 ç¯€ç¯„ä¾‹)
æ­¥é©Ÿ 6: æº–å‚™ç¯„ä¾‹è³‡æ–™
å»ºç«‹ sample_data/gudid_mock.csv:
csvCopyDeviceID,BrandName,VersionModelNumber,DeviceClass,ProductCode,RiskLevel
12345678901234,CardioGuard Pro,v2.1,II,DXH,Medium
23456789012345,DiabetesMonitor X,v1.5,II,NBW,Low
34567890123456,SurgicalRobot Elite,v3.0,III,OZO,High
æ­¥é©Ÿ 7: å•Ÿå‹•æ‡‰ç”¨
bashCopystreamlit run app.py --server.port 8501
ç€è¦½å™¨é–‹å•Ÿ http://localhost:8501
5.2 Docker ç’°å¢ƒè¨­å®š
Dockerfile
dockerfileCopyFROM python:3.10-slim

WORKDIR /app

# å®‰è£ç³»çµ±ä¾è³´
RUN apt-get update && apt-get install -y --no-install-recommends \
    curl \
    && rm -rf /var/lib/apt/lists/*

# è¤‡è£½ä¾è³´æ¸…å–®ä¸¦å®‰è£
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# è¤‡è£½æ‡‰ç”¨ç¨‹å¼ç¢¼èˆ‡é…ç½®
COPY app.py agents.yaml ./
COPY sample_data/ ./sample_data/

# æš´éœ² Streamlit é è¨­åŸ 
EXPOSE 8501

# å¥åº·æª¢æŸ¥
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
    CMD curl --fail http://localhost:8501/_stcore/health || exit 1

# å•Ÿå‹•æŒ‡ä»¤
CMD ["streamlit", "run", "app.py", "--server.port=8501", "--server.address=0.0.0.0"]
å»ºç½®èˆ‡åŸ·è¡Œ
bashCopy# å»ºç½®æ˜ åƒ
docker build -t gudid-studio:v2 .

# åŸ·è¡Œå®¹å™¨
docker run -d \
  --name gudid-studio \
  -p 8501:8501 \
  -e GEMINI_API_KEY=$GEMINI_API_KEY \
  -e OPENAI_API_KEY=$OPENAI_API_KEY \
  -e ANTHROPIC_API_KEY=$ANTHROPIC_API_KEY \
  -e GROK_API_KEY=$GROK_API_KEY \
  gudid-studio:v2

# æª¢è¦–æ—¥èªŒ
docker logs -f gudid-studio

6. éƒ¨ç½²é¸é …
6.1 æœ¬åœ°éƒ¨ç½² (Local Deployment)
é©ç”¨å ´æ™¯

å€‹äººé–‹ç™¼æ¸¬è©¦
éš”é›¢ç’°å¢ƒå¯©æŸ¥ (ç„¡ç¶²è·¯é€£ç·šè‡³é›²ç«¯)
æ•æ„Ÿè³‡æ–™ä¸å‡ºå…§éƒ¨ç¶²è·¯

æ­¥é©Ÿ
ä¾ç…§ 5.1 ç¯€ å®Œæˆç’°å¢ƒè¨­å®š,åŸ·è¡Œ:
bashCopystreamlit run app.py
é€é http://localhost:8501 å­˜å–ã€‚
å„ªé»

âœ… å®Œå…¨é›¢ç·š (è‹¥ API é‡‘é‘°é å…ˆè¨­å®š)
âœ… æœ€å¿«é€Ÿéƒ¨ç½²
âœ… ç„¡é›²ç«¯æˆæœ¬

ç¼ºé»

âŒ ç„¡æ³•å¤šäººå”ä½œ
âŒ å–®é»æ•…éšœ
âŒ ç„¡è‡ªå‹•æ“´å±•


6.2 AWS éƒ¨ç½²é¸é …
6.2.1 AWS EC2 éƒ¨ç½²
æ¶æ§‹åœ–:
CopyInternet â†’ Route 53 â†’ ELB â†’ EC2 Instance (Streamlit) â†’ AI APIs
                                â†“
                           EBS Volume (agents.yaml)
                                â†“
                      Secrets Manager (API Keys)
æ­¥é©Ÿ:

å•Ÿå‹• EC2 åŸ·è¡Œå€‹é«”:

AMI: Ubuntu 22.04 LTS
åŸ·è¡Œå€‹é«”é¡å‹: t3.medium (2 vCPU, 4 GB RAM)
å®‰å…¨ç¾¤çµ„: å…è¨± 443 (HTTPS), 22 (SSH)
IAM è§’è‰²: é™„åŠ  SecretsManagerReadWrite æ”¿ç­–


å®‰è£æ‡‰ç”¨:

bashCopyssh -i keypair.pem ubuntu@<EC2_PUBLIC_IP>
sudo apt update && sudo apt install python3.10-venv nginx -y
git clone <REPO_URL>
cd gudid-studio
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

é…ç½® systemd æœå‹™:

iniCopy# /etc/systemd/system/gudid-studio.service
[Unit]
Description=GUDID Multi-Agent Studio
After=network.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/gudid-studio
Environment="PATH=/home/ubuntu/gudid-studio/venv/bin"
EnvironmentFile=/home/ubuntu/gudid-studio/.env
ExecStart=/home/ubuntu/gudid-studio/venv/bin/streamlit run app.py --server.port 8501
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
bashCopysudo systemctl daemon-reload
sudo systemctl enable gudid-studio
sudo systemctl start gudid-studio

é…ç½® Nginx åå‘ä»£ç† (HTTPS):

nginxCopyserver {
    listen 443 ssl http2;
    server_name gudid.example.com;
    
    ssl_certificate /etc/letsencrypt/live/gudid.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/gudid.example.com/privkey.pem;
    ssl_protocols TLSv1.3;
    
    location / {
        proxy_pass http://localhost:8501;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
æˆæœ¬ä¼°ç®— (us-east-1):
é …ç›®æœˆè²» (USD)t3.medium (On-Demand)$30.37EBS 30 GB gp3$2.40Application Load Balancer$16.20è³‡æ–™å‚³è¼¸ (5 GB)$0.45ç¸½è¨ˆ~$49

6.2.2 AWS ECS Fargate éƒ¨ç½²
æ¶æ§‹åœ–:
CopyInternet â†’ Route 53 â†’ ALB â†’ ECS Service (Fargate Tasks) â†’ AI APIs
                                  â†“
                            Secrets Manager (API Keys)
                                  â†“
                          CloudWatch Logs (æ—¥èªŒ)
æ­¥é©Ÿ:

å»ºç«‹ ECR å„²å­˜åº«ä¸¦æ¨é€æ˜ åƒ:

bashCopyaws ecr create-repository --repository-name gudid-studio
aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin <AWS_ACCOUNT>.dkr.ecr.us-east-1.amazonaws.com
docker tag gudid-studio:v2 <AWS_ACCOUNT>.dkr.ecr.us-east-1.amazonaws.com/gudid-studio:v2
docker push <AWS_ACCOUNT>.dkr.ecr.us-east-1.amazonaws.com/gudid-studio:v2

å»ºç«‹ Secrets Manager å¯†é‘°:

bashCopyaws secretsmanager create-secret \
  --name gudid/gemini-key \
  --secret-string "AIzaSy..."
  
aws secretsmanager create-secret \
  --name gudid/openai-key \
  --secret-string "sk-proj-..."

å»ºç«‹ ECS Task Definition (JSON):

jsonCopy{
  "family": "gudid-studio-task",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "1024",
  "memory": "2048",
  "executionRoleArn": "arn:aws:iam::ACCOUNT:role/ecsTaskExecutionRole",
  "containerDefinitions": [
    {
      "name": "gudid-studio",
      "image": "<ECR_IMAGE_URI>",
      "portMappings": [{"containerPort": 8501}],
      "secrets": [
        {"name": "GEMINI_API_KEY", "valueFrom": "arn:aws:secretsmanager:us-east-1:ACCOUNT:secret:gudid/gemini-key"},
        {"name": "OPENAI_API_KEY", "valueFrom": "arn:aws:secretsmanager:us-east-1:ACCOUNT:secret:gudid/openai-key"}
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/ecs/gudid-studio",
          "awslogs-region": "us-east-1",
          "awslogs-stream-prefix": "ecs"
        }
      }
    }
  ]
}

å»ºç«‹ ECS Service:

bashCopyaws ecs create-service \
  --cluster gudid-cluster \
  --service-name gudid-service \
  --task-definition gudid-studio-task \
  --desired-count 2 \
  --launch-type FARGATE \
  --network-configuration "awsvpcConfiguration={subnets=[subnet-xxx,subnet-yyy],securityGroups=[sg-xxx],assignPublicIp=ENABLED}" \
  --load-balancers "targetGroupArn=arn:aws:elasticloadbalancing:us-east-1:ACCOUNT:targetgroup/gudid-tg,containerName=gudid-studio,containerPort=8501"

è‡ªå‹•æ“´å±•é…ç½®:

bashCopyaws application-autoscaling register-scalable-target \
  --service-namespace ecs \
  --scalable-dimension ecs:service:DesiredCount \
  --resource-id service/gudid-cluster/gudid-service \
  --min-capacity 2 \
  --max-capacity 10

aws application-autoscaling put-scaling-policy \
  --policy-name gudid-cpu-scaling \
  --service-namespace ecs \
  --scalable-dimension ecs:service:DesiredCount \
  --resource-id service/gudid-cluster/gudid-service \
  --policy-type TargetTrackingScaling \
  --target-tracking-scaling-policy-configuration '{
    "TargetValue": 70.0,
    "PredefinedMetricSpecification": {
      "PredefinedMetricType": "ECSServiceAverageCPUUtilization"
    }
  }'
æˆæœ¬ä¼°ç®—:
é …ç›®æœˆè²» (USD)Fargate (1 vCPU, 2GB) Ã— 2 tasks$59.10Application Load Balancer$16.20NAT Gateway (è‹¥ä½¿ç”¨ç§æœ‰å­ç¶²)$32.40CloudWatch Logs (10 GB)$5.00ç¸½è¨ˆ~$113

6.3 GCP éƒ¨ç½²é¸é …
6.3.1 GCP Cloud Run éƒ¨ç½² (æ¨è–¦)
å„ªå‹¢: å®Œå…¨è¨—ç®¡ã€è‡ªå‹•æ“´å±•ã€æŒ‰è«‹æ±‚è¨ˆè²»
æ­¥é©Ÿ:

å»ºç½®å®¹å™¨ä¸¦æ¨é€è‡³ GCR:

bashCopygcloud builds submit --tag gcr.io/PROJECT_ID/gudid-studio

å»ºç«‹ Secret Manager å¯†é‘°:

bashCopyecho -n "AIzaSy..." | gcloud secrets create gemini-key --data-file=-
echo -n "sk-proj-..." | gcloud secrets create openai-key --data-file=-

éƒ¨ç½²è‡³ Cloud Run:

bashCopygcloud run deploy gudid-studio \
  --image gcr.io/PROJECT_ID/gudid-studio \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --memory 2Gi \
  --cpu 2 \
  --timeout 3600 \
  --concurrency 10 \
  --max-instances 10 \
  --set-secrets GEMINI_API_KEY=gemini-key:latest,OPENAI_API_KEY=openai-key:latest

é…ç½®è‡ªè¨‚ç¶²åŸŸ:

bashCopygcloud run domain-mappings create \
  --service gudid-studio \
  --domain gudid.example.com
æˆæœ¬ä¼°ç®— (ä½æµé‡å ´æ™¯):
å‡è¨­æ¯æœˆ 10,000 è«‹æ±‚,å¹³å‡æ¯è«‹æ±‚ 30 ç§’ CPU æ™‚é–“:
é …ç›®è²»ç”¨ (USD)è«‹æ±‚è²»ç”¨ (10K Ã— $0.40/M)$0.004CPU æ™‚é–“ (10K Ã— 30s Ã— 2 vCPU Ã— $0.00002400)$14.40Memory æ™‚é–“ (10K Ã— 30s Ã— 2GB Ã— $0.00000250)$1.50ç¸½è¨ˆ~$16

6.3.2 GCP GKE éƒ¨ç½²
é¡ä¼¼ AWS EKS,ä½¿ç”¨ Kubernetes Deployment + Service,æ­¥é©Ÿç•¥ã€‚
æˆæœ¬ä¼°ç®—:
é …ç›®æœˆè²» (USD)GKE å¢é›†ç®¡ç†è²» ($0.10/hr)$733 Ã— e2-standard-4 ç¯€é»$367Load Balancer$18ç¸½è¨ˆ~$458

6.4 Azure éƒ¨ç½²é¸é …
6.4.1 Azure App Service éƒ¨ç½²
æ­¥é©Ÿ:

å»ºç«‹ App Service Plan:

bashCopyaz appservice plan create \
  --name gudid-plan \
  --resource-group gudid-rg \
  --sku B2 \
  --is-linux

å»ºç«‹ Web App:

bashCopyaz webapp create \
  --name gudid-studio \
  --resource-group gudid-rg \
  --plan gudid-plan \
  --runtime "PYTHON:3.10"

é…ç½® App Settings:

bashCopyaz webapp config appsettings set \
  --name gudid-studio \
  --resource-group gudid-rg \
  --settings \
    GEMINI_API_KEY=@Microsoft.KeyVault(SecretUri=https://gudid-kv.vault.azure.net/secrets/gemini-key/) \
    OPENAI_API_KEY=@Microsoft.KeyVault(SecretUri=https://gudid-kv.vault.azure.net/secrets/openai-key/)

éƒ¨ç½²ç¨‹å¼ç¢¼ (é€é ZIP):

bashCopyzip -r app.zip app.py agents.yaml requirements.txt sample_data/
az webapp deployment source config-zip \
  --name gudid-studio \
  --resource-group gudid-rg \
  --src app.zip
æˆæœ¬ä¼°ç®—:
é …ç›®æœˆè²» (USD)B2 App Service Plan$73Azure Key Vault (10K æ“ä½œ)$0.03æµé‡å‚³è¼¸ (5 GB)$0.40ç¸½è¨ˆ~$73

6.5 æ··åˆéƒ¨ç½² (Hybrid Deployment)
å ´æ™¯
æ•æ„Ÿ GUDID è³‡æ–™éœ€ç•™åœ¨å…§éƒ¨æ©Ÿæˆ¿,ä½†å¸Œæœ›ä½¿ç”¨é›²ç«¯ AI æœå‹™ã€‚
æ¶æ§‹
Copy[å…§éƒ¨æ©Ÿæˆ¿]
   â†“
ä¼æ¥­é˜²ç«ç‰† (Outbound HTTPS å…è¨± AI API ç¶²åŸŸ)
   â†“
[é›²ç«¯ AI æä¾›å•† APIs]
å¯¦æ–½æ­¥é©Ÿ

å…§éƒ¨ VM/å®¹å™¨éƒ¨ç½²: ä¾ç…§ 6.1 ç¯€ æ–¼ä¼æ¥­è³‡æ–™ä¸­å¿ƒéƒ¨ç½²
ç¶²è·¯è¨­å®š: é…ç½®é˜²ç«ç‰†å…è¨±å­˜å–:

generativelanguage.googleapis.com
api.openai.com
api.anthropic.com
api.x.ai


VPN/Direct Connect (é¸ç”¨): è‹¥éœ€å­˜å–é›²ç«¯è¨—ç®¡çš„ Secrets Manager
Identity Federation: ä½¿ç”¨ä¼æ¥­ SSO (SAML/OAuth) æ•´åˆä½¿ç”¨è€…é©—è­‰

å„ªé»

âœ… è³‡æ–™ä¸å‡ºå…§éƒ¨ç¶²è·¯
âœ… ç¬¦åˆ HIPAA/GDPR ç­‰åˆè¦è¦æ±‚

ç¼ºé»

âŒ éœ€è‡ªè¡Œç¶­è­·åŸºç¤è¨­æ–½
âŒ ç¶²è·¯å»¶é²å¯èƒ½è¼ƒé«˜ (è·¨å¢ƒ API å‘¼å«)


6.6 éƒ¨ç½²å»ºè­°çŸ©é™£
å ´æ™¯å»ºè­°éƒ¨ç½²æ–¹æ¡ˆåŸå› å€‹äºº/å°åœ˜éšŠæ¸¬è©¦æœ¬åœ° or GCP Cloud Runæˆæœ¬ä½ã€éƒ¨ç½²å¿«ä¼æ¥­ POC (10-50 ç”¨æˆ¶)AWS ECS Fargateæ˜“ç®¡ç†ã€è‡ªå‹•æ“´å±•ç”Ÿç”¢ç’°å¢ƒ (100+ ç”¨æˆ¶)GCP GKE / AWS EKSé«˜å¯ç”¨æ€§ã€å¯è§€æ¸¬æ€§é«˜åº¦ç›£ç®¡ç’°å¢ƒæ··åˆéƒ¨ç½² (å…§éƒ¨ VM)è³‡æ–™ä¸»æ¬Šã€åˆè¦æ€§ç„¡å›ºå®šæµé‡GCP Cloud RunæŒ‰éœ€è¨ˆè²»ã€é›¶é–’ç½®æˆæœ¬

7. åŸºç¤è¨­æ–½å³ç¨‹å¼ç¢¼ (IaC)
7.1 Terraform ç¯„ä¾‹ (AWS ECS Fargate)
main.tf:
hclCopyterraform {
  required_version = ">= 1.3"
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
  }
}

provider "aws" {
  region = var.aws_region
}

# VPC
resource "aws_vpc" "gudid_vpc" {
  cidr_block           = "10.0.0.0/16"
  enable_dns_hostnames = true
  enable_dns_support   = true
  
  tags = {
    Name = "gudid-vpc"
  }
}

# Public Subnets
resource "aws_subnet" "public_a" {
  vpc_id                  = aws_vpc.gudid_vpc.id
  cidr_block              = "10.0.1.0/24"
  availability_zone       = "${var.aws_region}a"
  map_public_ip_on_launch = true
}

resource "aws_subnet" "public_b" {
  vpc_id                  = aws_vpc.gudid_vpc.id
  cidr_block              = "10.0.2.0/24"
  availability_zone       = "${var.aws_region}b"
  map_public_ip_on_launch = true
}

# Internet Gateway
resource "aws_internet_gateway" "igw" {
  vpc_id = aws_vpc.gudid_vpc.id
}

# Route Table
resource "aws_route_table" "public_rt" {
  vpc_id = aws_vpc.gudid_vpc.id
  
  route {
    cidr_block = "0.0.0.0/0"
    gateway_id = aws_internet_gateway.igw.id
  }
}

resource "aws_route_table_association" "public_rta_a" {
  subnet_id      = aws_subnet.public_a.id
  route_table_id = aws_route_table.public_rt.id
}

resource "aws_route_table_association" "public_rta_b" {
  subnet_id      = aws_subnet.public_b.id
  route_table_id = aws_route_table.public_rt.id
}

# Security Group
resource "aws_security_group" "ecs_sg" {
  vpc_id = aws_vpc.gudid_vpc.id
  name   = "gudid-ecs-sg"
  
  ingress {
    from_port   = 8501
    to_port     = 8501
    protocol    = "tcp"
    cidr_blocks = ["0.0.0.0/0"]
  }
  
  egress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }
}

# ECS Cluster
resource "aws_ecs_cluster" "gudid_cluster" {
  name = "gudid-cluster"
}

# Task Definition
resource "aws_ecs_task_definition" "gudid_task" {
  family                   = "gudid-studio-task"
  network_mode             = "awsvpc"
  requires_compatibilities = ["FARGATE"]
  cpu                      = "1024"
  memory                   = "2048"
  execution_role_arn       = aws_iam_role.ecs_execution_role.arn
  
  container_definitions = jsonencode([{
    name  = "gudid-studio"
    image = var.ecr_image_uri
    portMappings = [{
      containerPort = 8501
      protocol      = "tcp"
    }]
    secrets = [
      {
        name      = "GEMINI_API_KEY"
        valueFrom = aws_secretsmanager_secret.gemini.arn
      },
      {
        name      = "OPENAI_API_KEY"
        valueFrom = aws_secretsmanager_secret.openai.arn
      }
    ]
    logConfiguration = {
      logDriver = "awslogs"
      options = {
        "awslogs-group"         = "/ecs/gudid-studio"
        "awslogs-region"        = var.aws_region
        "awslogs-stream-prefix" = "ecs"
        "awslogs-create-group"  = "true"
      }
    }
  }])
}

# ECS Service
resource "aws_ecs_service" "gudid_service" {
  name            = "gudid-studio-service"
  cluster         = aws_ecs_cluster.gudid_cluster.id
  task_definition = aws_ecs_task_definition.gudid_task.arn
  desired_count   = 2
  launch_type     = "FARGATE"
  
  network_configuration {
    subnets          = [aws_subnet.public_a.id, aws_subnet.public_b.id]
    security_groups  = [aws_security_group.ecs_sg.id]
    assign_public_ip = true
  }
  
  load_balancer {
    target_group_arn = aws_lb_target_group.gudid_tg.arn
    container_name   = "gudid-studio"
    container_port   = 8501
  }
  
  depends_on = [aws_lb_listener.gudid_listener]
}

# Application Load Balancer
resource "aws_lb" "gudid_alb" {
  name               = "gudid-alb"
  internal           = false
  load_balancer_type = "application"
  security_groups    = [aws_security_group.ecs_sg.id]
  subnets            = [aws_subnet.public_a.id, aws_subnet.public_b.id]
}

resource "aws_lb_target_group" "gudid_tg" {
  name        = "gudid-tg"
  port        = 8501
  protocol    = "HTTP"
  vpc_id      = aws_vpc.gudid_vpc.id
  target_type = "ip"
  
  health_check {
    path                = "/_stcore/health"
    interval            = 30
    timeout             = 10
    healthy_threshold   = 2
    unhealthy_threshold = 3
    matcher             = "200-299"
  }
}

resource "aws_lb_listener" "gudid_listener" {
  load_balancer_arn = aws_lb.gudid_alb.arn
  port              = "80"
  protocol          = "HTTP"
  
  default_action {
    type             = "forward"
    target_group_arn = aws_lb_target_group.gudid_tg.arn
  }
}

# IAM Role for ECS Execution
resource "aws_iam_role" "ecs_execution_role" {
  name = "gudid-ecs-execution-role"
  
  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Action = "sts:AssumeRole"
      Effect = "Allow"
      Principal = {
        Service = "ecs-tasks.amazonaws.com"
      }
    }]
  })
}

resource "aws_iam_role_policy_attachment" "ecs_execution_policy" {
  role       = aws_iam_role.ecs_execution_role.name
  policy_arn = "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"
}

resource "aws_iam_role_policy" "secrets_access" {
  role = aws_iam_role.ecs_execution_role.name
  
  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Action = [
        "secretsmanager:GetSecretValue"
      ]
      Resource = [
        aws_secretsmanager_secret.gemini.arn,
        aws_secretsmanager_secret.openai.arn
      ]
    }]
  })
}

# Secrets Manager
resource "aws_secretsmanager_secret" "gemini" {
  name = "gudid/gemini-api-key"
}

resource "aws_secretsmanager_secret" "openai" {
  name = "gudid/openai-api-key"
}

# Outputs
output "alb_dns_name" {
  value       = aws_lb.gudid_alb.dns_name
  description = "ALB DNS name to access the application"
}
variables.tf:
hclCopyvariable "aws_region" {
  description = "AWS region"
  type        = string
  default     = "us-east-1"
}

variable "ecr_image_uri" {
  description = "ECR image URI"
  type        = string
}
éƒ¨ç½²æŒ‡ä»¤:
bashCopyterraform init
terraform plan -var="ecr_image_uri=123456789012.dkr.ecr.us-east-1.amazonaws.com/gudid-studio:v2"
terraform apply -auto-approve

7.2 Kubernetes Deployment YAML
k8s-deployment.yaml:
yamlCopyapiVersion: v1
kind: Namespace
metadata:
  name: gudid-studio

---
apiVersion: v1
kind: Secret
metadata:
  name: ai-api-keys
  namespace: gudid-studio
type: Opaque
data:
  gemini-key: <BASE64_ENCODED_KEY>
  openai-key: <BASE64_ENCODED_KEY>
  anthropic-key: <BASE64_ENCODED_KEY>
  grok-key: <BASE64_ENCODED_KEY>

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: agents-config
  namespace: gudid-studio
data:
  agents.yaml: |
    agents:
      - id: "gudid_validator"
        name: "GUDID æ¬„ä½é©—è­‰å™¨"
        provider: "gemini"
        model: "gemini-2.5-flash"
        max_tokens: 4000
        temperature: 0.2
        enabled: true
        system_prompt: "ä½ æ˜¯ GUDID è³‡æ–™å“è³ªå°ˆå®¶..."

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: gudid-studio-deployment
  namespace: gudid-studio
spec:
  replicas: 3
  selector:
    matchLabels:
      app: gudid-studio
  template:
    metadata:
      labels:
        app: gudid-studio
    spec:
      containers:
      - name: gudid-studio
        image: gcr.io/PROJECT_ID/gudid-studio:v2
        ports:
        - containerPort: 8501
          name: http
        env:
        - name: GEMINI_API_KEY
          valueFrom:
            secretKeyRef:
              name: ai-api-keys
              key: gemini-key
        - name: OPENAI_API_KEY
          valueFrom:
            secretKeyRef:
              name: ai-api-keys
              key: openai-key
        - name: ANTHROPIC_API_KEY
          valueFrom:
            secretKeyRef:
              name: ai-api-keys
              key: anthropic-key
        - name: GROK_API_KEY
          valueFrom:
            secretKeyRef:
              name: ai-api-keys
              key: grok-key
        volumeMounts:
        - name: config-volume
          mountPath: /app/agents.yaml
          subPath: agents.yaml
        resources:
          requests:
            memory: "2Gi"
            cpu: "1000m"
          limits:
            memory: "4Gi"
            cpu: "2000m"
        livenessProbe:
          httpGet:
            path: /_stcore/health
            port: 8501
          initialDelaySeconds: 30
          periodSeconds: 10
          timeoutSeconds: 5
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /_stcore/health
            port: 8501
          initialDelaySeconds: 10
          periodSeconds: 5
          timeoutSeconds: 3
          failureThreshold: 3
      volumes:
      - name: config-volume
        configMap:
          name: agents-config

---
apiVersion: v1
kind: Service
metadata:
  name: gudid-studio-service
  namespace: gudid-studio
spec:
  type: LoadBalancer
  selector:
    app: gudid-studio
  ports:
  - protocol: TCP
    port: 80
    targetPort: 8501

---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: gudid-studio-hpa
  namespace: gudid-studio
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: gudid-studio-deployment
  minReplicas: 2
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
éƒ¨ç½²æŒ‡ä»¤:
bashCopy# å»ºç«‹ namespace
kubectl apply -f k8s-deployment.yaml

# æª¢è¦– Service External IP
kubectl get svc -n gudid-studio gudid-studio-service

# æª¢è¦– Pod ç‹€æ…‹
kubectl get pods -n gudid-studio

# æª¢è¦–æ—¥èªŒ
kubectl logs -f -n gudid-studio <POD_NAME>

7.3 CI/CD æ•´åˆ (GitHub Actions)
.github/workflows/deploy.yml:
yamlCopyname: Build and Deploy to GCP Cloud Run

on:
  push:
    branches: [main]
  workflow_dispatch:

env:
  GCP_PROJECT_ID: ${{ secrets.GCP_PROJECT_ID }}
  GCP_REGION: us-central1
  SERVICE_NAME: gudid-studio

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    permissions:
      contents: read
      id-token: write
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
    
    - name: Authenticate to Google Cloud
      uses: google-github-actions/auth@v1
      with:
        workload_identity_provider: ${{ secrets.GCP_WORKLOAD_IDENTITY_PROVIDER }}
        service_account: ${{ secrets.GCP_SERVICE_ACCOUNT }}
    
    - name: Set up Cloud SDK
      uses: google-github-actions/setup-gcloud@v1
    
    - name: Build and push Docker image
      run: |
        gcloud builds submit --tag gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$GITHUB_SHA
        gcloud builds submit --tag gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:latest
    
    - name: Deploy to Cloud Run
      run: |
        gcloud run deploy $SERVICE_NAME \
          --image gcr.io/$GCP_PROJECT_ID/$SERVICE_NAME:$GITHUB_SHA \
          --platform managed \
          --region $GCP_REGION \
          --allow-unauthenticated \
          --memory 2Gi \
          --cpu 2 \
          --timeout 3600 \
          --concurrency 10 \
          --max-instances 10 \
          --set-secrets GEMINI_API_KEY=gemini-key:latest,OPENAI_API_KEY=openai-key:latest,ANTHROPIC_API_KEY=anthropic-key:latest,GROK_API_KEY=grok-key:latest
    
    - name: Run integration tests
      run: |
        SERVICE_URL=$(gcloud run services describe $SERVICE_NAME --region $GCP_REGION --format 'value(status.url)')
        curl -f $SERVICE_URL/_stcore/health || exit 1
        echo "âœ… Health check passed"
    
    - name: Notify deployment status
      if: always()
      run: |
        if [ ${{ job.status }} == 'success' ]; then
          echo "ğŸš€ Deployment successful"
        else
          echo "âŒ Deployment failed"
        fi

8. å®‰å…¨æ€§è€ƒé‡
8.1 å¨è„…æ¨¡å‹ (STRIDE)
å¨è„…é¡å‹æ½›åœ¨æ”»æ“Šç·©è§£æªæ–½Spoofing (èº«ä»½å½è£)æœªæˆæ¬Šä½¿ç”¨è€…å†’å……åˆæ³•å¯©æŸ¥å“¡â€¢ å¯¦æ–½ OAuth 2.0 / SAML SSO<br>â€¢ æ•´åˆä¼æ¥­ Active Directory<br>â€¢ å¼·åˆ¶ MFA (å¤šå› ç´ èªè­‰)Tampering (è³‡æ–™ç«„æ”¹)æƒ¡æ„ä¿®æ”¹ä»£ç†è¼¸å‡ºæˆ– agents.yamlâ€¢ agents.yaml æª”æ¡ˆæ¬Šé™é™åˆ¶ç‚ºå”¯è®€<br>â€¢ è¼¸å‡ºåŠ å¯†å„²å­˜ (è‹¥æŒä¹…åŒ–)<br>â€¢ Git ç‰ˆæœ¬æ§åˆ¶è¿½è¹¤é…ç½®è®Šæ›´Repudiation (å¦èªæ€§)ä½¿ç”¨è€…å¦èªåŸ·è¡ŒéæŸå¯©æŸ¥æ“ä½œâ€¢ å®Œæ•´å¯©è¨ˆæ—¥èªŒ (åŒ…å«ä½¿ç”¨è€… IDã€æ™‚é–“æˆ³ã€æ“ä½œå…§å®¹)<br>â€¢ æ—¥èªŒå¯«å…¥ä¸å¯è®Šå„²å­˜ (å¦‚ AWS S3 Object Lock)Information Disclosure (è³‡è¨Šæ´©æ¼)API é‡‘é‘°å¤–æ´©ã€GUDID è³‡æ–™æ´©æ¼â€¢ ç’°å¢ƒè®Šæ•¸ + Secrets Manager<br>â€¢ å‚³è¼¸å±¤ TLS 1.3<br>â€¢ GUDID è³‡æ–™ä¸æŒä¹…åŒ–æ–¼å¾Œç«¯Denial of Service (é˜»æ–·æœå‹™)æƒ¡æ„å¤§é‡è«‹æ±‚è€—ç›¡è³‡æºâ€¢ Rate limiting (per-user)<br>â€¢ Auto-scaling (K8s HPA)<br>â€¢ API Gateway é€Ÿç‡é™åˆ¶Elevation of Privilege (æ¬Šé™æå‡)ä¸€èˆ¬ä½¿ç”¨è€…å–å¾—ç®¡ç†å“¡æ¬Šé™â€¢ RBAC (Role-Based Access Control)<br>â€¢ æœ€å°æ¬Šé™åŸå‰‡<br>â€¢ å®šæœŸæ¬Šé™ç¨½æ ¸
8.2 API é‡‘é‘°ç®¡ç†æœ€ä½³å¯¦è¸
8.2.1 ç’°å¢ƒè®Šæ•¸ (é–‹ç™¼/æ¸¬è©¦)
bashCopy# .env (çµ•ä¸æäº¤è‡³ Git)
GEMINI_API_KEY=AIzaSy...
OPENAI_API_KEY=sk-proj-...
ANTHROPIC_API_KEY=sk-ant-...
GROK_API_KEY=xai-...
Git ä¿è­·:
bashCopy# .gitignore
.env
*.env
secrets/
*.key
8.2.2 é›²ç«¯ Secrets Manager (ç”Ÿç”¢ç’°å¢ƒ)
AWS Secrets Manager:
bashCopyaws secretsmanager create-secret \
  --name gudid/gemini-api-key \
  --secret-string "AIzaSy..." \
  --description "Gemini API key for GUDID studio"

# è‡ªå‹•è¼ªæ›¿ (æ¯ 90 å¤©)
aws secretsmanager rotate-secret \
  --secret-id gudid/gemini-api-key \
  --rotation-lambda-arn arn:aws:lambda:us-east-1:ACCOUNT:function:SecretsManagerRotation \
  --rotation-rules AutomaticallyAfterDays=90
GCP Secret Manager:
bashCopyecho -n "AIzaSy..." | gcloud secrets create gemini-key \
  --data-file=- \
  --replication-policy="automatic" \
  --labels="app=gudid-studio,env=prod"

# ç‰ˆæœ¬ç®¡ç†
gcloud secrets versions add gemini-key --data-file=new_key.txt
Azure Key Vault:
bashCopyaz keyvault secret set \
  --vault-name gudid-keyvault \
  --name gemini-api-key \
  --value "AIzaSy..." \
  --expires 2025-12-31T23:59:59Z
8.2.3 é‡‘é‘°è¼ªæ›¿ç­–ç•¥
é …ç›®ç­–ç•¥è¼ªæ›¿é€±æœŸæ¯ 90 å¤© (ç¬¦åˆ NIST SP 800-57 å»ºè­°)è‡ªå‹•åŒ–ä½¿ç”¨ AWS Lambda / GCP Cloud Functionså¤šç‰ˆæœ¬ä¿ç•™å‰ä¸€ç‰ˆæœ¬é‡‘é‘° 24 å°æ™‚,ç¢ºä¿ç„¡æœå‹™ä¸­æ–·é€šçŸ¥è¼ªæ›¿å‰ 7 å¤©ç™¼é€éƒµä»¶é€šçŸ¥ç®¡ç†å“¡
8.3 è³‡æ–™éš±ç§ä¿è­·
8.3.1 PII (å€‹äººèº«ä»½è³‡è¨Š) è™•ç†
åŒ¿ååŒ–å‡½æ•¸ç¯„ä¾‹:
pythonCopyimport re

def anonymize_gudid_data(text: str) -> str:
    """
    åŒ¿ååŒ– GUDID è³‡æ–™ä¸­çš„ PII
    - æ‚£è€…å§“å â†’ [PATIENT_NAME]
    - é†«ç™‚è¨˜éŒ„è™Ÿç¢¼ â†’ [MRN]
    - é›»è©±è™Ÿç¢¼ â†’ [PHONE]
    """
    # æ‚£è€…å§“å (å¤§å¯«å­—æ¯é–‹é ­çš„é€£çºŒå…©å€‹å–®è©)
    text = re.sub(r'\b[A-Z][a-z]+ [A-Z][a-z]+\b', '[PATIENT_NAME]', text)
    
    # é†«ç™‚è¨˜éŒ„è™Ÿç¢¼ (6-10 ä½æ•¸å­—)
    text = re.sub(r'\b\d{6,10}\b', '[MRN]', text)
    
    # ç¾åœ‹é›»è©±è™Ÿç¢¼
    text = re.sub(r'\b\d{3}[-.]?\d{3}[-.]?\d{4}\b', '[PHONE]', text)
    
    return text
åˆè¦æ€§:

âœ… ç¬¦åˆ HIPAA Privacy Rule (ç¾åœ‹å¥åº·ä¿éšªæµé€šèˆ‡è²¬ä»»æ³•æ¡ˆ)
âœ… ç¬¦åˆ GDPR Article 32 (æ­ç›Ÿä¸€èˆ¬è³‡æ–™ä¿è­·è¦ç¯„)
âœ… è³‡æ–™ç•™å­˜: ä¸å„²å­˜ä»»ä½• GUDID è³‡æ–™æ–¼å¾Œç«¯,åƒ…ä¿å­˜æ–¼ä½¿ç”¨è€…ç€è¦½å™¨ Session

8.3.2 å‚³è¼¸å±¤å®‰å…¨
é …ç›®é…ç½®TLS ç‰ˆæœ¬å¼·åˆ¶ TLS 1.3æ†‘è­‰ç®¡ç†Let's Encrypt è‡ªå‹•æ›´æ–° (Certbot)HSTSStrict-Transport-Security: max-age=31536000; includeSubDomains; preloadCSPContent-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline'
Nginx é…ç½®ç¯„ä¾‹:
nginxCopyserver {
    listen 443 ssl http2;
    server_name gudid.example.com;
    
    ssl_certificate /etc/letsencrypt/live/gudid.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/gudid.example.com/privkey.pem;
    ssl_protocols TLSv1.3;
    ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384';
    ssl_prefer_server_ciphers off;
    
    add_header Strict-Transport-Security "max-age=31536000; includeSubDomains; preload" always;
    add_header X-Frame-Options "DENY" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Content-Security-Policy "default-src 'self'; 
